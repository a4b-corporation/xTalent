$schema: "https://xtalent.io/schemas/entity/v3"
$id: "xtalent:core:org-structure:org-relation-type"

entity: OrgRelationType
classification: ENTITY
module: CO
submodule: org-structure
version: "1.0"

definition: |
  Types of organizational relationships (OWNERSHIP, REPORTING, COLLABORATION, etc.)

description: |
  Defines the types of relationships that can exist in custom organizational schemas.

purpose: "Organizational relationship type definition"

# ----------------------------------------------------------------------------
# ATTRIBUTES
# ----------------------------------------------------------------------------
attributes:
  id:
    type: uuid
    required: true
    primary_key: true
    
  code:
    type: string
    required: true
    unique: true
    max_length: 50
    description: "Relationship type code"
    examples:
      - "OWNERSHIP"
      - "REPORTING"
      - "COLLABORATION"
      - "DOTTED_LINE"
    
  name:
    type: string
    required: true
    max_length: 150
    description: "Relationship type name"
    
  metadata:
    type: jsonb
    required: false
    description: "Additional properties (directional, weighted, etc.)"
    
  is_active:
    type: boolean
    required: true
    default: true

# ----------------------------------------------------------------------------
# VALIDATION RULES
# ----------------------------------------------------------------------------
validation_rules:
  - rule: "unique_code"
    expression: "UNIQUE(code)"
    message: "Relationship type code must be unique"
    severity: ERROR

references:
  database_design: "../../../03-design/1.core.v4.dbml#org_relation.type"

metadata:
  created_at: "2025-12-25"
  dbml_source: "org_relation.type (lines 508-514)"
